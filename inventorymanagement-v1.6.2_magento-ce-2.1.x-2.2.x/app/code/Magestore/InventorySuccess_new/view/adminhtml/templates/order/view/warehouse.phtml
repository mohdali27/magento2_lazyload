<?php/** * Copyright Â© 2016 Magestore. All rights reserved. * See COPYING.txt for license details. */?><?php /** @var \Magestore\InventorySuccess\Block\Adminhtml\Order\View\Warehouse $block */ ?><?php $warehouse = $block->getWarehouse(); ?><?php $canChangeWarehosue = $block->canChangeWarehouse(); ?><?php $currentWarehouseId = $block->getOrder()->getWarehouseId(); ?><tr id="order_warehouse">    <th><?php echo __("Location") ?></th>    <td>        <div id="warehouse_info">            <?php if ($warehouse->getId()): ?>                <?php echo $block->getWarehouseDisplay($warehouse); ?>            <?php else: ?>                <?php echo __('N/A'); ?>            <?php endif; ?>            </br>            <?php if ($canChangeWarehosue): ?>                <button type="button" id="change_warehouse">                    <span><?php echo __($warehouse->getId() ? 'Change' : 'Assign') ?></span>                </button>            <?php endif; ?>        </div>        <?php if ($canChangeWarehosue): ?>            <div id="warehouse_select" style="display:none;">                <select id="warehouse_id" class="admin__control-select">                    <?php foreach ($block->getWarehouseOptions() as $warehouse): ?>                        <?php if ($warehouse['value'] == $currentWarehouseId) continue; ?>                        <option value="<?php echo $warehouse['value'] ?>"><?php echo $warehouse['label'] ?></option>                    <?php endforeach; ?>                </select>                </br>                <button type="button" id="save_warehouse">                    <span><?php echo __('Save') ?></span>                </button>                <button type="button" id="cancel_warehouse">                    <span><?php echo __('Cancel') ?></span>                </button>            </div>        <?php endif; ?>    </td>    <?php if ($canChangeWarehosue): ?>        <script type="text/javascript">            require([                "jquery",                "Magento_Ui/js/modal/alert",                "mage/translate",                "prototype"            ], function ($, Alert, $t) {                function selectWarehouse() {                    $('#warehouse_info').hide();                    $('#warehouse_select').show();                }                function showWarehouse() {                    $('#warehouse_info').show();                    $('#warehouse_select').hide();                }                function saveWarehouse() {                    var warehouseId = $('#warehouse_id').val();                    if (!warehouseId || warehouseId == '0') {                        Alert({title: 'Error', content: '<?php echo __('Please select a location.') ?>'});                    } else {                        location.href = '<?php echo $block->getChangeWarehouseUrl() ?>'.replace('selected_warehouse_id', warehouseId);                    }                }                $('#change_warehouse').click(selectWarehouse);                $('#cancel_warehouse').click(showWarehouse);                $('#save_warehouse').click(saveWarehouse);            });        </script>        <style>            #order_warehouse button {                margin-top: 1rem            }        </style>    <?php endif; ?></tr>